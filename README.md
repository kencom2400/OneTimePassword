# ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

Google Authenticatorã¨åŒæ§˜ã®æ©Ÿèƒ½ã‚’æŒã¤ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆOTPï¼‰ç”Ÿæˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚PCã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ã—ã¦QRã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚Šã€è¤‡æ•°ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®OTPã‚’åŒæ™‚ã«ç®¡ç†ãƒ»è¡¨ç¤ºã§ãã¾ã™ã€‚

**[English version is available here (è‹±èªç‰ˆã¯ã“ã¡ã‚‰)](README.en.md)**

## ğŸ“‘ ç›®æ¬¡

- [ğŸš€ ä¸»ãªæ©Ÿèƒ½](#-ä¸»ãªæ©Ÿèƒ½)
- [ğŸ“– ä½¿ç”¨æ–¹æ³•](#-ä½¿ç”¨æ–¹æ³•)
- [ğŸ› ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ï¸-ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [ğŸ“‹ è¦ä»¶](#-è¦ä»¶)
- [ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£](#-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
- [ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](#-ãƒ©ã‚¤ã‚»ãƒ³ã‚¹)
- [ğŸ“ ã‚µãƒãƒ¼ãƒˆ](#-ã‚µãƒãƒ¼ãƒˆ)
- [ğŸ”§ é–‹ç™ºè€…å‘ã‘æƒ…å ±](#-é–‹ç™ºè€…å‘ã‘æƒ…å ±)
- [ğŸ§ª ãƒ†ã‚¹ãƒˆ](#-ãƒ†ã‚¹ãƒˆ) â­ **ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸ä»˜ã**
- [ğŸ¤ è²¢çŒ®](#-è²¢çŒ®)

## ğŸš€ ä¸»ãªæ©Ÿèƒ½

- **QRã‚³ãƒ¼ãƒ‰èª­ã¿å–ã‚Š**: PCã‚«ãƒ¡ãƒ©ã¾ãŸã¯ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰QRã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚Š
- **è¤‡æ•°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†**: è¤‡æ•°ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®OTPã‚’åŒæ™‚ã«ç®¡ç†ãƒ»è¡¨ç¤º
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º**: 1ç§’é–“éš”ã§OTPã‚’è‡ªå‹•æ›´æ–°ï¼ˆãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ä»˜ãï¼‰
- **ã‚»ã‚­ãƒ¥ã‚¢ãªä¿å­˜**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ã¯PBKDF2ã§æš—å·åŒ–ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜
- **ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³æ“ä½œ**: ç›´æ„Ÿçš„ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **Dockeré€£æº**: otpauthã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ç”¨ã—ãŸQRã‚³ãƒ¼ãƒ‰è§£æ
- **ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†**: ä¸€è¦§ã€æ¤œç´¢ã€æ›´æ–°ã€å‰Šé™¤æ©Ÿèƒ½

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### ğŸ³ Dockerç’°å¢ƒã§ã®å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰

Dockerã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ç’°å¢ƒæ§‹ç¯‰ä¸è¦ã§ã™ãã«ä½¿ç”¨ã§ãã¾ã™ã€‚

```bash
# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
docker-compose run --rm test

# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
docker-compose run --rm test-unit

# çµ±åˆãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
docker-compose run --rm test-integration

# Lintãƒã‚§ãƒƒã‚¯ï¼ˆBlack, Flake8, MyPyï¼‰
docker-compose run --rm black
docker-compose run --rm flake8
docker-compose run --rm mypy

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ
docker-compose run --rm app poetry run python src/main.py [ã‚³ãƒãƒ³ãƒ‰]
```

### Poetryç’°å¢ƒã§ã®å®Ÿè¡Œ

```bash
# Poetryä»®æƒ³ç’°å¢ƒå†…ã§å®Ÿè¡Œ
poetry run python src/main.py [ã‚³ãƒãƒ³ãƒ‰]

# ã¾ãŸã¯ä»®æƒ³ç’°å¢ƒã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆã—ã¦ã‹ã‚‰å®Ÿè¡Œ
poetry shell
python src/main.py [ã‚³ãƒãƒ³ãƒ‰]
```

### ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

#### ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¿½åŠ 

```bash
# ã‚«ãƒ¡ãƒ©ã§QRã‚³ãƒ¼ãƒ‰èª­ã¿å–ã‚Š
poetry run python src/main.py add --camera

# ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰QRã‚³ãƒ¼ãƒ‰èª­ã¿å–ã‚Š
poetry run python src/main.py add --image qr_code.png
```

#### OTPã®è¡¨ç¤º

```bash
# å…¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®OTPè¡¨ç¤ºï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰
poetry run python src/main.py show --all

# ç‰¹å®šã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®OTPè¡¨ç¤º
poetry run python src/main.py show <account_id>
```

#### ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†

```bash
# ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä¸€è¦§è¡¨ç¤º
poetry run python src/main.py list

# ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤
poetry run python src/main.py delete <account_id>

# ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±æ›´æ–°
poetry run python src/main.py update <account_id> --name "æ–°ã—ã„åå‰"

# ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¤œç´¢
poetry run python src/main.py search "ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰"
```

#### ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†

```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹è¡¨ç¤º
poetry run python src/main.py status

# Dockerç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
poetry run python src/main.py setup

# Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®å‰Šé™¤
poetry run python src/main.py cleanup
```

## ğŸ› ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. Poetryç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# PoetryãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆ
curl -sSL https://install.python-poetry.org | python3 -

# PATHè¨­å®šï¼ˆ~/.zshrcã«è¿½åŠ ï¼‰
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /path/to/OneTimePassword

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
poetry install
```

### 2. ã‚·ã‚¹ãƒ†ãƒ ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆmacOSï¼‰

```bash
# zbarãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆQRã‚³ãƒ¼ãƒ‰èª­ã¿å–ã‚Šç”¨ï¼‰
brew install zbar
```

### 3. Dockerç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Dockerç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆotpauthãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ï¼‰
poetry run python src/main.py setup

# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ã®ç¢ºèª
docker images | grep otpauth
# å‡ºåŠ›ä¾‹: otpauth      latest    eeb083890349   9 minutes ago   21.1MB
```

**æ³¨æ„**: QRã‚³ãƒ¼ãƒ‰ã®èª­ã¿å–ã‚Šæ©Ÿèƒ½ã¯ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå­˜åœ¨ã—ãªã„å ´åˆã«è‡ªå‹•çš„ã«ãƒ“ãƒ«ãƒ‰ã‚’è©¦è¡Œã—ã¾ã™ã€‚åˆå›ä½¿ç”¨æ™‚ã¯æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

### 4. ç’°å¢ƒãƒ†ã‚¹ãƒˆ

```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œç¢ºèª
poetry run python src/main.py --help

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
poetry run python src/main.py status
```

## ğŸ“‹ è¦ä»¶

- **Python**: 3.8.1ä»¥ä¸Šï¼ˆæ¨å¥¨: 3.13.9ï¼‰
- **Poetry**: ä¾å­˜é–¢ä¿‚ç®¡ç†
- **Docker**: QRã‚³ãƒ¼ãƒ‰è§£æç”¨
- **macOS**: ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™
- **ã‚·ã‚¹ãƒ†ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: zbarï¼ˆQRã‚³ãƒ¼ãƒ‰èª­ã¿å–ã‚Šç”¨ï¼‰

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **æš—å·åŒ–**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ã¯PBKDF2ã§æš—å·åŒ–ã—ã¦ä¿å­˜
- **ãƒ©ãƒ³ãƒ€ãƒ ã‚½ãƒ«ãƒˆ**: å„æš—å·åŒ–ã”ã¨ã«16ãƒã‚¤ãƒˆã®ãƒ©ãƒ³ãƒ€ãƒ ãªã‚½ãƒ«ãƒˆã‚’ç”Ÿæˆï¼ˆãƒ¬ã‚¤ãƒ³ãƒœãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«æ”»æ’ƒå¯¾ç­–ï¼‰
- **ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜**: æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã¯GitHubã«ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¾ã›ã‚“
- **ãƒ¡ãƒ¢ãƒªã‚¯ãƒªã‚¢**: ä½¿ç”¨å¾Œã®æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã¯å³åº§ã«ã‚¯ãƒªã‚¢
- **æ¨©é™ç®¡ç†**: é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™è¨­å®š
- **ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹**: æœ€å°é™ã®æ¨©é™ã§ã‚«ãƒ¡ãƒ©ã«ã‚¢ã‚¯ã‚»ã‚¹
- **ç’°å¢ƒå¤‰æ•°**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ç’°å¢ƒå¤‰æ•°ã§å®‰å…¨ã«ç®¡ç†

### ğŸ” æš—å·åŒ–ã®ä»•çµ„ã¿

æœ¬ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ¥­ç•Œæ¨™æº–ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ï¼š

1. **å„æš—å·åŒ–ã”ã¨ã«ä¸€æ„ã®ã‚½ãƒ«ãƒˆ**: åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’æš—å·åŒ–ã—ã¦ã‚‚ã€æ¯å›ç•°ãªã‚‹çµæœãŒç”Ÿæˆã•ã‚Œã¾ã™
2. **PBKDF2ã‚­ãƒ¼å°å‡º**: 100,000å›ã®åå¾©ã§ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰æš—å·åŒ–ã‚­ãƒ¼ã‚’å°å‡º
3. **Fernetæš—å·åŒ–**: AES-128-CBCã¨HMAC-SHA256ã«ã‚ˆã‚‹èªè¨¼ä»˜ãæš—å·åŒ–
4. **ã‚½ãƒ«ãƒˆã®ä¿å­˜**: 16ãƒã‚¤ãƒˆã®ãƒ©ãƒ³ãƒ€ãƒ ã‚½ãƒ«ãƒˆã‚’æš—å·åŒ–ãƒ‡ãƒ¼ã‚¿ã¨ä¸€ç·’ã«ä¿å­˜

### ğŸ” ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šï¼ˆé‡è¦ï¼‰

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ã‚’æš—å·åŒ–ã™ã‚‹ãŸã‚ã«ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

#### æ–¹æ³•1: ç’°å¢ƒå¤‰æ•°ã§è¨­å®šï¼ˆæ¨å¥¨ï¼‰

```bash
# ~/.zshrc ã¾ãŸã¯ ~/.bashrc ã«è¿½åŠ 
export OTP_MASTER_PASSWORD="your_strong_password_here"

# è¨­å®šã‚’åæ˜ 
source ~/.zshrc
```

#### æ–¹æ³•2: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®šï¼ˆã‚ˆã‚Šå®‰å…¨ãƒ»æ¨å¥¨ï¼‰

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚¡ã‚¤ãƒ« `~/.otp_password` ã‚’ä½¿ç”¨ï¼ˆç’°å¢ƒå¤‰æ•°ä¸è¦ï¼‰:**

```bash
# ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼ˆæ¨©é™ã‚’åˆ¶é™ï¼‰
echo "your_strong_password_here" > ~/.otp_password
chmod 600 ~/.otp_password

# ã“ã‚Œã ã‘ã§å®Œäº†ï¼ç’°å¢ƒå¤‰æ•°ã®è¨­å®šã¯ä¸è¦ã§ã™
poetry run python src/main.py show --all
```

**ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ:**

```bash
# ä»»æ„ã®å ´æ‰€ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
echo "your_strong_password_here" > /path/to/custom_password
chmod 600 /path/to/custom_password

# ~/.zshrc ã¾ãŸã¯ ~/.bashrc ã«è¿½åŠ 
export OTP_PASSWORD_FILE="/path/to/custom_password"

# è¨­å®šã‚’åæ˜ 
source ~/.zshrc
```

#### æ–¹æ³•3: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å…¥åŠ›

ç’°å¢ƒå¤‰æ•°ã‚‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚è¨­å®šã—ã¦ã„ãªã„å ´åˆã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å…¥åŠ›ã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚

**âš ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­¦å‘Š**:
- ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯æ¨æ¸¬ã—ã«ãã„å¼·åŠ›ãªã‚‚ã®ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€å¿…ãšé©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™ï¼ˆ600ï¼‰ã‚’è¨­å®šã—ã¦ãã ã•ã„
- ç’°å¢ƒå¤‰æ•°ã‚„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã§ãã ã•ã„
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ãŒå¾©å·åŒ–ã§ããªããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚«ãƒ¡ãƒ©ãŒèªè­˜ã•ã‚Œãªã„å ´åˆ

```bash
# ã‚«ãƒ¡ãƒ©ã®æ¥ç¶šç¢ºèª
poetry run python -c "import cv2; print(cv2.VideoCapture(0).isOpened())"

# ã‚«ãƒ¡ãƒ©æ¨©é™ã®ç¢ºèªï¼ˆmacOSï¼‰
# ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®š > ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ > ã‚«ãƒ¡ãƒ©
```

### Dockerã‚¨ãƒ©ãƒ¼ã®å ´åˆ

```bash
# Dockerã®çŠ¶æ…‹ç¢ºèª
docker --version
docker info

# Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã®èµ·å‹•ç¢ºèª
docker ps

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šç¢ºèª
ping github.com

# otpauthã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå­˜åœ¨ã—ãªã„å ´åˆï¼ˆè‡ªå‹•ãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹ï¼‰
poetry run python src/main.py add --camera

# æ‰‹å‹•ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹å ´åˆ
poetry run python src/main.py setup

# ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ç¢ºèª
docker images | grep otpauth

# ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‰Šé™¤ã™ã‚‹å ´åˆ
poetry run python src/main.py cleanup
```

### QRã‚³ãƒ¼ãƒ‰ãŒèª­ã¿å–ã‚Œãªã„å ´åˆ

- QRã‚³ãƒ¼ãƒ‰ãŒé®®æ˜ã§ååˆ†ãªã‚µã‚¤ã‚ºã‹ç¢ºèª
- ã‚«ãƒ¡ãƒ©ã®ç„¦ç‚¹ã‚’èª¿æ•´
- ç…§æ˜æ¡ä»¶ã‚’æ”¹å–„
- QRã‚³ãƒ¼ãƒ‰ã®å½¢å¼ç¢ºèªï¼ˆ`otpauth-migration://offline?data=...`ï¼‰

### QRã‚³ãƒ¼ãƒ‰è§£æã‚¨ãƒ©ãƒ¼ã®å ´åˆ

```bash
# è§£æã‚¨ãƒ©ãƒ¼ã®ãƒ‡ãƒãƒƒã‚°
poetry run python -c "
from src.docker_manager import DockerManager
dm = DockerManager()
# ãƒ†ã‚¹ãƒˆç”¨ã®å‡ºåŠ›ã§è§£æã‚’ç¢ºèª
test_output = 'otpauth://totp/account?algorithm=SHA1&digits=6&issuer=GitHub&period=30&secret=SECRET'
result = dm.parse_otpauth_output(test_output)
print('è§£æçµæœ:', result)
"
```

### Poetryç’°å¢ƒã®å•é¡Œ

```bash
# ä»®æƒ³ç’°å¢ƒã®å†ä½œæˆ
poetry env remove python
poetry install

# ä¾å­˜é–¢ä¿‚ã®æ›´æ–°
poetry update

# ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã®å†ç”Ÿæˆ
poetry lock
```

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯[LICENSE](LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã§ã‚µãƒãƒ¼ãƒˆã‚’å—ã‘ã¦ãã ã•ã„ï¼š

1. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
2. æ—¢å­˜ã®Issueã‚’æ¤œç´¢
3. æ–°ã—ã„Issueã‚’ä½œæˆï¼ˆè©³ç´°ãªæƒ…å ±ã‚’å«ã‚ã‚‹ï¼‰

---

## ğŸ”§ é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
OneTimePassword/
â”œâ”€â”€ src/                          # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ __init__.py              # ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆæœŸåŒ–
â”‚   â”œâ”€â”€ main.py                  # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCLIï¼‰
â”‚   â”œâ”€â”€ camera_qr_reader.py      # ã‚«ãƒ¡ãƒ©QRã‚³ãƒ¼ãƒ‰èª­ã¿å–ã‚Š
â”‚   â”œâ”€â”€ otp_generator.py         # OTPç”Ÿæˆãƒ»è¡¨ç¤º
â”‚   â”œâ”€â”€ security_manager.py      # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ç®¡ç†
â”‚   â”œâ”€â”€ crypto_utils.py          # æš—å·åŒ–ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ docker_manager.py        # Dockerã‚³ãƒ³ãƒ†ãƒŠç®¡ç†
â”œâ”€â”€ tests/                        # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ TEST_DESIGN.md           # ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ conftest.py              # pytestå…±é€šãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£
â”‚   â”œâ”€â”€ unit/                    # å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆ163å€‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ test_crypto_utils.py
â”‚   â”‚   â”œâ”€â”€ test_otp_generator.py
â”‚   â”‚   â”œâ”€â”€ test_security_manager.py
â”‚   â”‚   â”œâ”€â”€ test_camera_qr_reader.py
â”‚   â”‚   â”œâ”€â”€ test_docker_manager.py
â”‚   â”‚   â””â”€â”€ test_main.py
â”‚   â”œâ”€â”€ integration/             # çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ10å€‹ï¼‰
â”‚   â”‚   â””â”€â”€ test_integration.py
â”‚   â”œâ”€â”€ run_tests.py             # Pythonãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ run_tests.sh             # Bashãƒ©ãƒƒãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ data/                         # ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â””â”€â”€ accounts.json            # ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ï¼ˆæš—å·åŒ–ï¼‰
â”œâ”€â”€ htmlcov/                      # ã‚«ãƒãƒ¬ãƒƒã‚¸HTMLãƒ¬ãƒãƒ¼ãƒˆï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
â”œâ”€â”€ pyproject.toml               # Poetryè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ poetry.lock                  # Poetryä¾å­˜é–¢ä¿‚ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ requirements.txt             # å¾“æ¥ã®ä¾å­˜é–¢ä¿‚ï¼ˆå‚è€ƒç”¨ï¼‰
â”œâ”€â”€ .gitignore                   # Gité™¤å¤–è¨­å®š
â”œâ”€â”€ LICENSE                      # ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ README.md                    # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ REQUIREMENTS_OVERVIEW.md     # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦ä»¶æ¦‚è¦
â””â”€â”€ requirements_specification.md # è¦ä»¶å®šç¾©æ›¸
```

### æŠ€è¡“ä»•æ§˜

#### ä½¿ç”¨æŠ€è¡“

- **è¨€èª**: Python 3.8.1+
- **ä¾å­˜é–¢ä¿‚ç®¡ç†**: Poetry
- **ä»®æƒ³ç’°å¢ƒ**: pyenv + Poetry
- **æš—å·åŒ–**: cryptographyï¼ˆPBKDF2ï¼‰
- **QRã‚³ãƒ¼ãƒ‰**: OpenCVï¼ˆcv2.QRCodeDetectorï¼‰
- **OTPç”Ÿæˆ**: pyotp
- **ã‚³ãƒ³ãƒ†ãƒŠ**: Docker
- **ç”»åƒå‡¦ç†**: Pillow

#### ä¾å­˜é–¢ä¿‚

```toml
[tool.poetry.dependencies]
python = "^3.8.1"
pyotp = "^2.9.0"
opencv-python = "^4.8.1"
cryptography = "^41.0.7"
Pillow = "^10.0.1"
docker = "^6.1.3"
numpy = "^1.24.0"

[tool.poetry.group.dev.dependencies]
pytest = "^7.0.0"
pytest-cov = "^4.0.0"
pytest-mock = "^3.0.0"
pytest-asyncio = "^0.21.0"
black = "^23.0.0"
flake8 = "^6.0.0"
mypy = "^1.0.0"
```

### é–‹ç™ºç’°å¢ƒæƒ…å ±

- **Python**: 3.13.9ï¼ˆpyenvç®¡ç†ï¼‰
- **Poetry**: 2.2.1
- **ä»®æƒ³ç’°å¢ƒ**: `/Users/kencom/Library/Caches/pypoetry/virtualenvs/onetimepassword-78G70__u-py3.13`
- **OS**: macOS Sequoia 24.6.0

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ğŸ“š ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸

è©³ç´°ãªãƒ†ã‚¹ãƒˆè¨­è¨ˆã«ã¤ã„ã¦ã¯ã€[ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸ï¼ˆTEST_DESIGN.mdï¼‰](tests/TEST_DESIGN.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸ã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š
- ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã¨ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¥ãƒ†ã‚¹ãƒˆè¨­è¨ˆï¼ˆ173å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- çµ±åˆãƒ†ã‚¹ãƒˆãƒ»E2Eãƒ†ã‚¹ãƒˆè¨­è¨ˆ
- ãƒ¢ãƒƒã‚¯åŒ–ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰
- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•ã®è©³ç´°

### ğŸ“Š ãƒ†ã‚¹ãƒˆçµ±è¨ˆ

- **ç·ãƒ†ã‚¹ãƒˆæ•°**: 173å€‹
  - å˜ä½“ãƒ†ã‚¹ãƒˆ: 163å€‹
  - çµ±åˆãƒ†ã‚¹ãƒˆ: 10å€‹
- **ãƒ†ã‚¹ãƒˆæˆåŠŸç‡**: 100% âœ…
- **å®Ÿè¡Œæ™‚é–“**: ç´„2.8ç§’
- **ç¾åœ¨ã®ã‚«ãƒãƒ¬ãƒƒã‚¸**: 67%
- **ç›®æ¨™ã‚«ãƒãƒ¬ãƒƒã‚¸**: 90%ä»¥ä¸Š

### ğŸš€ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•

#### 1. ãƒ©ãƒƒãƒ‘ãƒ¼ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆæ¨å¥¨ï¼‰

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
./run_tests.sh

# å˜ä½“ãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
./run_tests.sh unit

# çµ±åˆãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
./run_tests.sh integration

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆHTMLãƒ»XMLãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼‰
./run_tests.sh coverage --html

# ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸ãªã—ï¼‰
./run_tests.sh quick

# ç›£è¦–ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ™‚ã«è‡ªå‹•å®Ÿè¡Œï¼‰
./run_tests.sh watch

# ãƒ†ã‚¹ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
./run_tests.sh clean

# ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
./run_tests.sh --help
```

#### 2. ç›´æ¥å®Ÿè¡Œ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
poetry run pytest tests/ -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆå®Ÿè¡Œ
poetry run pytest tests/ --cov=src --cov-report=html --cov-report=term

# ç‰¹å®šã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
poetry run pytest tests/unit/test_crypto_utils.py -v

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹å®Ÿè¡Œ
poetry run pytest tests/unit/test_main.py::TestOneTimePasswordApp -v

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆé–¢æ•°å®Ÿè¡Œ
poetry run pytest tests/unit/test_main.py::TestOneTimePasswordApp::test_add_account_from_camera_success -v

# ä¸¦åˆ—å®Ÿè¡Œï¼ˆé«˜é€ŸåŒ–ï¼‰
poetry run pytest tests/ -n auto

# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆä»˜ãå®Ÿè¡Œï¼ˆãƒãƒ³ã‚°ã™ã‚‹ãƒ†ã‚¹ãƒˆå¯¾ç­–ï¼‰
timeout 120 poetry run pytest tests/ -v
```

### ğŸ—‚ï¸ ãƒ†ã‚¹ãƒˆæ§‹é€ 

```
tests/
â”œâ”€â”€ TEST_DESIGN.md           # ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸ï¼ˆè©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰
â”œâ”€â”€ conftest.py              # pytestå…±é€šãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£
â”œâ”€â”€ unit/                    # å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆ163å€‹ï¼‰
â”‚   â”œâ”€â”€ test_crypto_utils.py      # æš—å·åŒ–ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆ25å€‹ï¼‰
â”‚   â”œâ”€â”€ test_otp_generator.py     # OTPç”Ÿæˆï¼ˆ19å€‹ï¼‰
â”‚   â”œâ”€â”€ test_security_manager.py  # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç®¡ç†ï¼ˆ23å€‹ï¼‰
â”‚   â”œâ”€â”€ test_camera_qr_reader.py  # ã‚«ãƒ¡ãƒ©QRèª­ã¿å–ã‚Šï¼ˆ30å€‹ï¼‰
â”‚   â”œâ”€â”€ test_docker_manager.py    # Dockerç®¡ç†ï¼ˆ32å€‹ï¼‰
â”‚   â””â”€â”€ test_main.py              # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªï¼ˆ34å€‹ï¼‰
â”œâ”€â”€ integration/             # çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ10å€‹ï¼‰
â”‚   â””â”€â”€ test_integration.py
â”œâ”€â”€ run_tests.py             # Pythonãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ run_tests.sh             # Bashãƒ©ãƒƒãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

### ğŸ“‹ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚ªãƒ—ã‚·ãƒ§ãƒ³

#### ãƒ©ãƒƒãƒ‘ãƒ¼ã‚·ã‚§ãƒ«ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `-v, --verbose`: è©³ç´°å‡ºåŠ›ï¼ˆãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åã¨çµæœã‚’è¡¨ç¤ºï¼‰
- `-q, --quiet`: ç°¡æ½”å‡ºåŠ›ï¼ˆã‚µãƒãƒªãƒ¼ã®ã¿è¡¨ç¤ºï¼‰
- `-f, --fail-fast`: æœ€åˆã®å¤±æ•—ã§åœæ­¢
- `-p, --parallel`: ä¸¦åˆ—å®Ÿè¡Œï¼ˆé«˜é€ŸåŒ–ï¼‰
- `--no-cov`: ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šã‚’ç„¡åŠ¹åŒ–ï¼ˆé«˜é€Ÿå®Ÿè¡Œï¼‰
- `--html`: HTMLã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆ`htmlcov/index.html`ï¼‰
- `--xml`: XMLã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆ`coverage.xml`ï¼‰
- `-m MARKER`: ç‰¹å®šã®ãƒãƒ¼ã‚«ãƒ¼ã®ãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ

#### pytestã‚ªãƒ—ã‚·ãƒ§ãƒ³ä¾‹

```bash
# å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã®ã¿å†å®Ÿè¡Œ
poetry run pytest tests/ --lf

# å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã‚’æœ€åˆã«å®Ÿè¡Œ
poetry run pytest tests/ --ff

# ãƒˆãƒ¬ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚’çŸ­ãè¡¨ç¤º
poetry run pytest tests/ --tb=short

# ãƒˆãƒ¬ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚’è¡¨ç¤ºã—ãªã„
poetry run pytest tests/ --tb=no

# è©³ç´°ãªå‡ºåŠ›ï¼ˆå„ãƒ†ã‚¹ãƒˆã®è©³ç´°ï¼‰
poetry run pytest tests/ -vv

# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ™‚é–“ã‚’è¡¨ç¤º
poetry run pytest tests/ --durations=10
```

### ğŸ” ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ

ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¾Œã€ä»¥ä¸‹ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆãŒç”Ÿæˆã•ã‚Œã¾ã™ï¼š

```bash
# HTMLãƒ¬ãƒãƒ¼ãƒˆã®ç¢ºèª
open htmlcov/index.html

# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã®ã‚«ãƒãƒ¬ãƒƒã‚¸è¡¨ç¤º
poetry run pytest tests/ --cov=src --cov-report=term-missing
```

**ç¾åœ¨ã®ã‚«ãƒãƒ¬ãƒƒã‚¸è©³ç´°**:
- `src/main.py`: 84%
- `src/crypto_utils.py`: 80%
- `src/docker_manager.py`: 73%
- `src/security_manager.py`: 67%
- `src/camera_qr_reader.py`: 52%
- `src/otp_generator.py`: 37%

### ğŸ› ãƒ†ã‚¹ãƒˆã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ãƒ†ã‚¹ãƒˆãŒãƒãƒ³ã‚°ã™ã‚‹å ´åˆ

```bash
# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®šã—ã¦å®Ÿè¡Œ
timeout 120 poetry run pytest tests/ -v

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚’ã‚¹ã‚­ãƒƒãƒ—
poetry run pytest tests/ -k "not test_hanging_test"
```

#### ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼

å…¨ã¦ã®ã‚«ãƒ¡ãƒ©ãƒ†ã‚¹ãƒˆã¯å®Œå…¨ã«ãƒ¢ãƒƒã‚¯åŒ–ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€å®Ÿéš›ã®ã‚«ãƒ¡ãƒ©ã¯ä¸è¦ã§ã™ã€‚
ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å ´åˆã¯ã€[ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](tests/TEST_DESIGN.md#13-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

#### Dockeré–¢é€£ã‚¨ãƒ©ãƒ¼

Dockerç’°å¢ƒãŒä¸è¦ãªãŸã‚ã€DockerãŒèµ·å‹•ã—ã¦ã„ãªãã¦ã‚‚ãƒ†ã‚¹ãƒˆã¯æˆåŠŸã—ã¾ã™ã€‚
å…¨ã¦ã®Dockerã‚³ãƒãƒ³ãƒ‰ã¯`subprocess.run`ã§ãƒ¢ãƒƒã‚¯åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚

### ğŸ“ ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹

æ–°ã—ã„ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹éš›ã¯ã€ä»¥ä¸‹ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«å¾“ã£ã¦ãã ã•ã„ï¼š

1. **é©åˆ‡ãªãƒ¢ãƒƒã‚¯åŒ–**: å¤–éƒ¨ä¾å­˜ã¯å¿…ãšãƒ¢ãƒƒã‚¯åŒ–
2. **æ˜ç¢ºãªãƒ†ã‚¹ãƒˆå**: `test_<method>_<scenario>`ã®å½¢å¼
3. **AAA ãƒ‘ã‚¿ãƒ¼ãƒ³**: Arrangeï¼ˆæº–å‚™ï¼‰ã€Actï¼ˆå®Ÿè¡Œï¼‰ã€Assertï¼ˆæ¤œè¨¼ï¼‰
4. **ç‹¬ç«‹æ€§**: å„ãƒ†ã‚¹ãƒˆã¯ç‹¬ç«‹ã—ã¦å®Ÿè¡Œå¯èƒ½ã«
5. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: docstringã§ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹IDã¨ç›®çš„ã‚’è¨˜è¼‰

ä¾‹ï¼š
```python
def test_add_account_success(self, security_manager):
    """TC-SEC-001: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¿½åŠ ï¼ˆæˆåŠŸï¼‰"""
    # Arrange
    account_data = {...}
    
    # Act
    result = security_manager.add_account(**account_data)
    
    # Assert
    assert result is not None
    assert len(result) > 0
```

è©³ç´°ã¯[ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸](tests/TEST_DESIGN.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
poetry run black src/

# ãƒªãƒ³ãƒˆ
poetry run flake8 src/

# å‹ãƒã‚§ãƒƒã‚¯
poetry run mypy src/

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
poetry run pytest
```

### å‰ææ¡ä»¶ã®ç¢ºèªï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰

```bash
# Python 3.13.9ã®ç¢ºèª
python --version

# pyenvã®ç¢ºèª
pyenv versions

# Dockerã®ç¢ºèª
docker --version

# ä»®æƒ³ç’°å¢ƒã®ç¢ºèª
poetry env info
```

## ğŸ¤ è²¢çŒ®

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add some amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

---

**æ³¨æ„**: ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ•™è‚²ãƒ»ç ”ç©¶ç›®çš„ã§ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚æœ¬ç•ªç’°å¢ƒã§ã®ä½¿ç”¨å‰ã«ååˆ†ãªãƒ†ã‚¹ãƒˆã‚’è¡Œã£ã¦ãã ã•ã„ã€‚